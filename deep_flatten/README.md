A solution to the "deep_flatten" problem from https://pythonmorsels.com