A solution to the "format_ranges" problem from https://pythonmorsels.com