<!DOCTYPE html>
<html>
<head>
	<title>Crossing Game</title>
	<style type ="text/css">
		canvas{
			border: 2px solid black;
			background-color : red;
		}
	</style>
</head>
<body>
	<h1>Crossing Game</h1>
	<canvas id='myCanvas', width=1000 height=500>
		
	</canvas>
	<script type="text/javascript">
		let canvas = document.getElementById("myCanvas");
		let ctx = canvas.getContext("2d");
		let screenWidth = 1000;
		let screenHeight = 500;
		let width = 50;

		class GameCharacter {
		  constructor(x, y, width, height, color, speed=2) {
		    this.x = x;
		    this.y = y;
		    this.width = width;
		    this.height = height;
		    this.color = color;
		    this.speed = speed;
		  }

		  moveVertically(yAmount){
		  	if(this.y > screenHeight-100 || this.y < 50){
		  		this.speed = -this.speed
		  	}
		  	this.y += this.speed;
		  }
  		  moveHorizontally(){
		  	this.x += this.speed;
		  }
		}

		let enemies = [
		  new GameCharacter(200, 225, width, width, "rgb(0, 0, 255)", 2),
		  new GameCharacter(450, screenHeight - 100, width, width, "rgb(0, 0, 255)", 3),
		  new GameCharacter(700, 50, width, width, "rgb(0, 0, 255)", 4),
		];
		let player = new GameCharacter(50, 225, width, width, "rgb(0, 255, 0)", 2);

		let draw = function () {
		  ctx.clearRect(0, 0, screenWidth, screenHeight);

		  ctx.fillStyle = player.color;
		  ctx.fillRect(player.x, player.y, player.width, player.height);

		  enemies.forEach(function (element) {
		    ctx.fillStyle = element.color;
		    ctx.fillRect(element.x, element.y, element.width, element.height);
		  });
		};

		let update = function(){
		  	enemies.forEach(function (element) {
		  		element.moveVertically();
		  	});
		};

		let step = function () {
		  update();
		  draw();
		  window.requestAnimationFrame(step);
		};

		step();
	</script>
</body>

</html>